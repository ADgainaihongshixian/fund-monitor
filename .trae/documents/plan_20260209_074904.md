## 修复 API 重复调用问题计划

### 问题分析
**根本原因**：React StrictMode 在开发环境下的设计行为

**具体原因**：
- React 18 的 StrictMode 会在开发环境中故意重复调用某些函数，包括：
  1. 组件的函数体
  2. useState 的初始化函数
  3. useEffect 的回调函数
  4. useMemo 和 useCallback 的回调函数

- 这导致了：
  - `useFundData` 钩子中的 `useEffect` 被调用两次
  - `SearchFund` 组件中的 `useEffect` 被调用两次
  - `Chart` 组件中的 `useEffect` 被调用两次

### 修复方案

**方案 1：移除 StrictMode（不推荐）**
- **修改文件**：`src/main.tsx`
- **修改内容**：移除 `<React.StrictMode>` 包装
- **缺点**：失去 StrictMode 提供的开发时检查功能

**方案 2：保持 StrictMode，理解这是正常现象**
- **原理**：在生产模式下，React 会自动禁用这种重复调用行为
- **优点**：保持开发时的严格检查，确保代码质量

**方案 3：优化 useEffect 逻辑，使其幂等**
- **修改文件**：相关组件的 useEffect 逻辑
- **原理**：确保即使 useEffect 被调用多次，也不会产生副作用

### 推荐方案
**采用方案 2**：保持 StrictMode，理解这是开发环境的正常现象

**原因**：
1. 这不是 bug，而是 React 的设计特性
2. 生产环境中不会出现这种情况
3. StrictMode 能帮助发现真正的副作用问题
4. 所有三个接口的重复调用都是由同一个原因导致的

### 验证方法
- 在浏览器中运行生产版本：`npm run build && npm run preview`
- 确认生产环境中接口只调用一次

这种情况下，不需要修改代码，只需要理解这是 React 开发环境的正常行为。