## 修复CORS错误方案

### 1. 分析CORS错误原因
- 检查错误信息："CORS error"，表明跨域资源共享配置有问题
- 确认请求的URL：`F10DataApi.aspx?type=lsjz&code=002963&sdate=2026-01-10&edate=2026-02-09`
- 验证当前使用的API客户端和代理配置

### 2. 检查API客户端配置
- 检查 `searchApiClient` 和 `historyApiClient` 的配置
- 确认 `historyApiClient` 的 baseURL 设置为 `/api/fund`，指向 `https://api.fund.eastmoney.com`
- 验证 `searchApiClient` 的 baseURL 设置为 `/api/eastmoney`，指向 `https://fund.eastmoney.com`

### 3. 修改 `getFundHistory` 方法
- 尝试使用 `historyApiClient` 而不是 `searchApiClient`，因为 `historyApiClient` 指向 `https://api.fund.eastmoney.com`，可能是更合适的API域名
- 调整请求路径和参数，确保与API要求一致
- 优化请求头信息，模拟真实浏览器请求

### 4. 检查Vite代理配置
- 确认 `/api/fund` 和 `/api/eastmoney` 代理配置正确
- 验证代理的 headers 配置是否完整
- 确保代理的 changeOrigin 和 rewrite 规则正确

### 5. 验证修改后的代码
- 启动开发服务器，测试API调用是否成功
- 检查浏览器开发者工具，确认没有CORS错误
- 验证历史数据走势图是否能够正确渲染

### 6. 优化性能和用户体验
- 确保数据缓存机制仍然有效
- 优化数据解析和处理逻辑
- 确保图表渲染流畅，特别是在处理大量数据时