## 修复CORS错误方案

### 1. 分析CORS错误
- 检查错误信息："CORS error"，表明跨域资源共享配置有问题
- 确认请求的URL：`F10DataApi.aspx?type=lsjz&code=002963&sdate=2026-01-10&edate=2026-02-09`
- 验证Vite的代理配置是否正确

### 2. 检查Vite代理配置
- 检查 `vite.config.ts` 文件中的 `/api/eastmoney` 代理配置
- 确认代理的 target 是否正确指向 `https://fund.eastmoney.com`
- 验证代理的 rewrite 规则是否正确

### 3. 检查API客户端配置
- 检查 `api.ts` 文件中的 `searchApiClient` 配置
- 确认 baseURL 是否正确设置为 `/api/eastmoney`
- 验证请求的URL是否正确构建，是否使用了相对路径

### 4. 修改 `getFundHistory` 方法
- 确保使用正确的API客户端和相对路径
- 验证请求头信息是否正确设置
- 确保代理配置能够正确处理请求

### 5. 验证修改后的代码
- 启动开发服务器，测试API调用是否成功
- 检查浏览器开发者工具，确认没有CORS错误
- 验证历史数据走势图是否能够正确渲染

### 6. 优化性能和用户体验
- 确保数据缓存机制仍然有效
- 优化数据解析和处理逻辑
- 确保图表渲染流畅，特别是在处理大量数据时