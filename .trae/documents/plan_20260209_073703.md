## 修复 API 重复调用问题计划

### 问题分析
经过代码分析，发现三个接口都存在重复调用的问题，主要原因如下：

#### 1. `getFundData` 重复调用
- **原因**：`useFundData` 钩子初始化调用 + 自动刷新机制触发
- **具体位置**：`src/hooks/useFundData.ts` 第 21-24 行的 `useEffect` 与 `src/hooks/useAutoRefresh.ts` 的定时器

#### 2. `searchFund` 重复调用
- **原因**：`SearchFund` 组件防抖逻辑可能导致多次执行
- **具体位置**：`src/components/SearchFund/SearchFund.tsx` 第 30-44 行的 `useEffect`

#### 3. `getFundHistory` 重复调用
- **原因**：`Chart` 组件 `useEffect` 依赖项变化导致重复执行
- **具体位置**：`src/components/Chart/Chart.tsx` 第 38-58 行的 `useEffect`

### 修复方案

#### 1. 修复 `getFundData` 重复调用
**修改文件**：`src/hooks/useFundData.ts`
- 添加加载状态检查，避免重复初始化调用
- 确保只有在真正需要时才调用 `refreshFunds`

#### 2. 修复 `searchFund` 重复调用
**修改文件**：`src/components/SearchFund/SearchFund.tsx`
- 优化防抖逻辑，添加搜索状态检查
- 确保同一时间只执行一次搜索

#### 3. 修复 `getFundHistory` 重复调用
**修改文件**：`src/components/Chart/Chart.tsx`
- 添加加载状态检查，避免快速连续调用
- 确保在数据加载完成前不重复调用

### 预期效果
- 消除所有 API 接口的重复调用问题
- 保持功能完整性的同时提高性能
- 减少不必要的网络请求